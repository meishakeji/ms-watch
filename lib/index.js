!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.meisha_watch=e():t.meisha_watch=e()}(self,(function(){return(()=>{var t={575:function(t,e,r){"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g&&r.g,t.exports=function(){"use strict";var t,e="3.7.2",r="function"==typeof atob,o="function"==typeof btoa,n="function"==typeof Buffer,i="function"==typeof TextDecoder?new TextDecoder:void 0,s="function"==typeof TextEncoder?new TextEncoder:void 0,a=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),c=(t={},a.forEach((function(e,r){return t[e]=r})),t),h=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,u=String.fromCharCode.bind(String),d="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(t,e){return void 0===e&&(e=function(t){return t}),new Uint8Array(Array.prototype.slice.call(t,0).map(e))},l=function(t){return t.replace(/=/g,"").replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"}))},f=function(t){return t.replace(/[^A-Za-z0-9\+\/]/g,"")},m=function(t){for(var e,r,o,n,i="",s=t.length%3,c=0;c<t.length;){if((r=t.charCodeAt(c++))>255||(o=t.charCodeAt(c++))>255||(n=t.charCodeAt(c++))>255)throw new TypeError("invalid character found");i+=a[(e=r<<16|o<<8|n)>>18&63]+a[e>>12&63]+a[e>>6&63]+a[63&e]}return s?i.slice(0,s-3)+"===".substring(s):i},p=o?function(t){return btoa(t)}:n?function(t){return Buffer.from(t,"binary").toString("base64")}:m,g=n?function(t){return Buffer.from(t).toString("base64")}:function(t){for(var e=[],r=0,o=t.length;r<o;r+=4096)e.push(u.apply(null,t.subarray(r,r+4096)));return p(e.join(""))},w=function(t,e){return void 0===e&&(e=!1),e?l(g(t)):g(t)},y=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?u(192|e>>>6)+u(128|63&e):u(224|e>>>12&15)+u(128|e>>>6&63)+u(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return u(240|e>>>18&7)+u(128|e>>>12&63)+u(128|e>>>6&63)+u(128|63&e)},x=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,L=function(t){return t.replace(x,y)},T=n?function(t){return Buffer.from(t,"utf8").toString("base64")}:s?function(t){return g(s.encode(t))}:function(t){return p(L(t))},E=function(t,e){return void 0===e&&(e=!1),e?l(T(t)):T(t)},v=function(t){return E(t,!0)},S=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,b=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return u(55296+(e>>>10))+u(56320+(1023&e));case 3:return u((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return u((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},k=function(t){return t.replace(S,b)},A=function(t){if(t=t.replace(/\s+/g,""),!h.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));for(var e,r,o,n="",i=0;i<t.length;)e=c[t.charAt(i++)]<<18|c[t.charAt(i++)]<<12|(r=c[t.charAt(i++)])<<6|(o=c[t.charAt(i++)]),n+=64===r?u(e>>16&255):64===o?u(e>>16&255,e>>8&255):u(e>>16&255,e>>8&255,255&e);return n},C=r?function(t){return atob(f(t))}:n?function(t){return Buffer.from(t,"base64").toString("binary")}:A,I=n?function(t){return d(Buffer.from(t,"base64"))}:function(t){return d(C(t),(function(t){return t.charCodeAt(0)}))},M=function(t){return I(B(t))},N=n?function(t){return Buffer.from(t,"base64").toString("utf8")}:i?function(t){return i.decode(I(t))}:function(t){return k(C(t))},B=function(t){return f(t.replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})))},D=function(t){return N(B(t))},F=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},R=function(){var t=function(t,e){return Object.defineProperty(String.prototype,t,F(e))};t("fromBase64",(function(){return D(this)})),t("toBase64",(function(t){return E(this,t)})),t("toBase64URI",(function(){return E(this,!0)})),t("toBase64URL",(function(){return E(this,!0)})),t("toUint8Array",(function(){return M(this)}))},U=function(){var t=function(t,e){return Object.defineProperty(Uint8Array.prototype,t,F(e))};t("toBase64",(function(t){return w(this,t)})),t("toBase64URI",(function(){return w(this,!0)})),t("toBase64URL",(function(){return w(this,!0)}))},P={version:e,VERSION:"3.7.2",atob:C,atobPolyfill:A,btoa:p,btoaPolyfill:m,fromBase64:D,toBase64:E,encode:E,encodeURI:v,encodeURL:v,utob:L,btou:k,decode:D,isValid:function(t){if("string"!=typeof t)return!1;var e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},fromUint8Array:w,toUint8Array:M,extendString:R,extendUint8Array:U,extendBuiltins:function(){R(),U()},Base64:{}};return Object.keys(P).forEach((function(t){return P.Base64[t]=P[t]})),P}()},182:t=>{const e="test-monitor.meishakeji.com",r=(/^(127.0.0.1|localhost|192.168)/.test(window.location.host),/^(127.0.0.1|localhost|192.168|nathan-|dev-|hank-|kerry-|39.108.58.1)/.test(window.location.host)),o=/^test-/.test(window.location.host),n=/^pre-/.test(window.location.host);t.exports={getBaseUrl:()=>{let t="";return t=r?`//${DEVELOP_LOCAL_HOST}`:o?`//test-${e}`:n?`//pre-${e}`:`//${e}`,t},initLog:()=>{window.log=r||o?console.log.bind(console):()=>{}},TimeLog:[{key:"redirectTime",value:"重定向耗时"},{key:"dnsTime",value:"DNS解析耗时"},{key:"connectTime",value:"TCP连接耗时"},{key:"requestTime",value:"HTTP请求耗时"},{key:"firstByteTime",value:"首字节耗时"},{key:"domLoadTime",value:"DOMready时间"},{key:"jsEventTime",value:"脚本加载时间"},{key:"fpTime",value:"FP首屏时间"},{key:"ttiTime",value:"首次可交互时间"},{key:"loadTime",value:"页面加载完成的时间"}],reportSplitTime:1e4,errorNum:3,actionNum:3}},520:t=>{t.exports={MSConsole:class{constructor(){this.console=window.console,this.infoList=[],this.infoFns=[],this.warnList=[],this.warnFns=[],this.errorList=[],this.errorFns=[]}log(t,e="#35495e",r="#41b883"){for(let o in t)log(`%c ${o} %c ${t[o]} `,`background: ${e} ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff`,`background: ${r} ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff`)}info(t){const e=this.console.info;"function"==typeof t&&this.infoFns.push(t),window.console.info=(...t)=>{this.infoList.push({arg:t,url:encodeURIComponent(window.location.href)});for(let e of this.infoFns)e(...t);e(...t)}}warn(t){const e=this.console.warn;"function"==typeof t&&this.warnFns.push(t),window.console.warn=(...t)=>{this.warnList.push({arg:t,url:encodeURIComponent(window.location.href),createTime:Math.floor(Date.now()/1e3)});for(let e of this.warnFns)e(...t);e(...t)}}error(t){const e=this.console.error;"function"==typeof t&&this.errorFns.push(t),window.console.error=(...t)=>{this.errorList.push({arg:t,url:encodeURIComponent(window.location.href),createTime:Math.floor(Date.now()/1e3)});for(let e of this.errorFns)e(...t);e(...t)}}getInfo(){return{warnList:this.warnList,errorList:this.errorList}}clearInfo(){this.errorList=[],this.warnList=[]}}}},83:t=>{t.exports={MSDevice:class{constructor(t){this.width=document.documentElement.clientWidth||document.body.clientWidth,this.height=document.documentElement.clientHeight||document.body.clientHeight,this.userAgent="navigator"in window&&"userAgent"in navigator&&navigator.userAgent.toLowerCase()||"";const e=window.performance||window.msPerformance||window.webkitPerformance;this.performance=t||e,this.osVersion=this.getOS(),this.browserVersion=this.getExplore(),this.network=this.getNetWork(),this.createTime=Date.now(),this.memory=this.getMemory()}getOS(){var t=this.userAgent,e=("navigator"in window&&"vendor"in navigator&&navigator.vendor.toLowerCase(),"navigator"in window&&"appVersion"in navigator&&navigator.appVersion.toLowerCase()||"");return/mac/i.test(e)?"MacOSX":/win/i.test(e)?"windows":/linux/i.test(e)?"linux":/iphone/i.test(t)||/ipod/i.test(t)?"ios":/ipad/i.test(t)?"ipad":/android/i.test(t)?"android":/win/i.test(e)&&/phone/i.test(t)?"windowsPhone":void 0}getExplore(){var t,e={},r=navigator.userAgent.toLowerCase();return(t=r.match(/rv:([\d.]+)\) like gecko/))||(t=r.match(/msie ([\d\.]+)/))?e.ie=t[1]:(t=r.match(/edge\/([\d\.]+)/))?e.edge=t[1]:(t=r.match(/firefox\/([\d\.]+)/))?e.firefox=t[1]:(t=r.match(/(?:opera|opr).([\d\.]+)/))?e.opera=t[1]:(t=r.match(/micromessenger\/([\d\.]+)/i))?e.weixin=t[1]:(t=r.match(/chrome\/([\d\.]+)/))?e.chrome=t[1]:(t=r.match(/version\/([\d\.]+).*safari/))?e.safari=t[1]:(t=r.match(/weibo\/([\d\.]+)/i))&&(e.weibo=t[1]),e.ie?"IE: "+e.ie:e.edge?"EDGE: "+e.edge:e.firefox?"Firefox: "+e.firefox:e.weixin?"weixin: "+e.weixin:e.chrome?"Chrome: "+e.chrome:e.opera?"Opera: "+e.opera:e.safari?"Safari: "+e.safari:e.weibo?"weibo: "+e.weibo:"Unkonwn"}getNetWork(){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection||{tyep:"unknown"};const{effectiveType:e,downlink:r,rtt:o}=t;return"number"==typeof r&&(t.type=r>=10?"wifi":r>2?"3g":r>0?"2g":0==r?"none":"unknown"),{type:e||t.type,downlink:r,rtt:o,isOnline:navigator.onLine}}computedSize(t){return t/1024/1024}getMemory(){const{usedJSHeapSize:t,totalJSHeapSize:e,jsHeapSizeLimit:r}=this.performance.memory;return{usedSize:this.computedSize(t).toFixed(2)+" MB",totalSize:this.computedSize(e).toFixed(2)+" MB",limitSize:this.computedSize(r).toFixed(2)+" MB"}}getInfo(){return{width:this.width,height:this.height,userAgent:this.userAgent,osVersion:this.osVersion,browserVersion:this.browserVersion,network:this.network,memory:this.memory}}}}},171:t=>{const e={SyntaxError:"语法错误",TypeError:"类型错误",ReferenceError:"声明错误",RangeError:"栈溢出错误",ResourceError:"资源加载错误",HttpError:"http请求错误"};t.exports={MSError:class{constructor(){this.errorList=[]}recordError(t){this.handleAddListener("error",(e=>{this.dealError(e,t)})),this.handleAddListener("unhandledrejection",(e=>{this.dealError(e,t)})),this.handlerError(((e,r,o,n,i)=>{const s={type:"runError",message:e,source:r,lineno:o,colno:n,...i};this.dealError(s,t)}))}findItem(t,{message:e,errorType:r,type:o,outerHTML:n}){for(let i of t){const t=e&&i.message===e&&i.errorType===r,s=n&&i.outerHTML===n&&i.type===o;if(t||s)return!0}return!1}dealError(t,e){const r=this.getError(t);this.findItem(this.errorList,r)||this.errorList.push(r),e&&"function"==typeof e&&e(t)}getSyntaxError(t){const r=t.error,o=r.stack.split(":")[0],n=e[o];let i="";i=t.target===window?"window":t.target===document?"document":t.target&&t.target.nodeName||"";let s={errorText:n,errorType:o,type:t.type,message:r.message,stack:r.stack,nodeName:i};return r.colno&&Object.assign(s,{colno:r.colno}),r.lineno&&Object.assign(s,{lineno:r.lineno}),s}getPromiseError(t){const r=t.reason,o=r.stack&&r.stack.split(":"),n=o&&o[0];return{errorText:e[n]||"未定义错误",errorType:n,type:t.type,message:r.message,stack:r.stack,nodeName:"window"}}getResourceError(t){let e={};const r=t.target,o=r.nodeName.toLocaleLowerCase();return["img","script","link"].includes(o)&&(e={nodeName:r.nodeName,errorText:"资源加载错误",errorType:"ResourceError",src:r.src||r.href,className:r.className,outerHTML:r.outerHTML,type:t.type},"img"===o&&Object.assign(e,{top:r.x,left:r.y,width:r.width,height:r.height})),e}getRunError(t){const r=t.message&&t.message.split(":")[0]&&t.message.split(":")[0].split(" ")[1];return{nodeName:"window",errorText:e[r],errorType:r,type:"runError",message:t.message,source:t.source,lineno:t.lineno,colno:t.colno,stack:t.stack}}getError(t){const e=t.error,r=t.reason;let o={};return t.target&&t.target.nodeName?o=this.getResourceError(t):e?o=this.getSyntaxError(t):r?o=this.getPromiseError(t):"runError"===t.type&&(o=this.getRunError(t)),Object.assign(o,{createTime:Math.floor(Date.now()/1e3),url:encodeURIComponent(window.location.href)}),o}handleAddListener(t,e){window.addEventListener?window.addEventListener(t,e,!0):window.attachEvent("on"+t,e)}handlerError(t){window.onerror=t}clearInfo(){this.errorList=[]}}}},138:(t,e,r)=>{const{MSTiming:o}=r(942),{MSDevice:n}=r(83),{MSConsole:i}=r(520),{TimeLog:s,reportSplitTime:a,errorNum:c,actionNum:h,initLog:u}=r(182),{MSError:d}=r(171),{MSUserAction:l}=r(989),{MSSendData:f}=r(9),{MSStorage:m}=r(75),{guid:p}=r(555),{encode:g,decode:w}=r(575);t.exports={MsWatch:class{constructor(t){try{u();const{projectName:e,url:r,router:o,reportTime:n,errorMaxNum:i,actionMaxNum:s}=t||{};if(this.reportTime=n||a,this.errorMaxNum=i||c,this.actionMaxNum=s||h,this.error=new d,this.listenLoad(),this.listenUnload(),this.listenVisible(),this.timing=null,this.device=null,this.mconsole=null,this.action=null,this.storage=null,this.useInfo=null,this.timeId=p(),window.encode=g,window.decode=w,!e)throw new Error("projectName 不能为空");if(!r)throw new Error("URL 不能为空");if(!o)throw new Error("请传入router实例");this.projectName=e,this.url=r,this.router=o,this.firstEnter=!0,this.lastTime=0,this.requestId=p(0,24,!1),this.pending=!1}catch(t){console.error(t)}}async init(){const t=window.performance||window.msPerformance||window.webkitPerformance;let e=localStorage.getItem("userInfo");e&&(e=JSON.parse(e),this.userInfo=e),this.timing=new o(t),this.device=new n,this.mconsole=new i,this.action=new l(this.router,e),this.storage=new m(e);const r=await this.timing.getTime();let a={};for(let{key:t,value:e}of s)a[e]=`${r[t]}ms`;this.mconsole.log(a),this.action.listenRouter(),this.action.listenAction(this.actionReport.bind(this)),this.mconsole.warn(),this.mconsole.error(),this.error.recordError(this.errorReport.bind(this)),this.msend=new f({url:this.url,method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"}}),this.report()}getData(){const t=this.timing&&this.timing.getTime(),e=this.device&&this.device.getInfo(),r=this.mconsole.getInfo(),o=this.action.getInfo();delete o.userInfo;const{userId:n,name:i,realname:s,phoneNo:a}=this.userInfo||{};r.typeError=this.error.errorList;let c={console:r,action:o};this.firstEnter&&(c=(this.storage&&this.storage.get("MsError"))[0]||{});const h={project:this.projectName,requestId:this.requestId,httpHost:window.location.host,requestUri:encodeURIComponent(window.location.href),user:{userId:n,name:i||s,phoneNo:a},timing:t,device:e,logs:[c]},u=c.console;let d=0;return u&&(u.errorList&&u.errorList.length>0||u.typeError&&u.typeError.length>0?d=1:u.warnList&&u.warnList.length>0&&(d=2)),h.dataStatus=d,h}getLogs(){return{console:this.mconsole.getInfo(),action:this.action.getInfo(),typeError:this.error.errorList}}clearData(){this.mconsole.clearInfo(),this.action.clearInfo(),this.firstEnter=!1,this.error.errorList=[]}listenLoad(){this.error.handleAddListener("load",(()=>{setTimeout((async()=>{this.init()}),200)}))}listenUnload(){let t=this;this.error.handleAddListener("beforeunload",(()=>{t.saveLog()}))}listenVisible(){let t=this;this.error.handleAddListener("visibilitychange",(e=>{"visible"===document.visibilityState&&setTimeout((()=>{t.saveLog()}),200)}))}saveLog(){const t=this.getData(),e=this.storage&&this.storage.get("MsError")||[];if(e.length>0){const r=t.logs.console,o=t.logs.action,n=e[0].console,i=e[0].action;(r&&r.errorList||[]).push(...n.errorList),(r&&r.typeError||[]).push(...n.typeError),(r&&r.warnList||[]).push(...n.warnList),(o&&o.clickList||[]).push(...i.clickList),(o&&o.routeList||[]).push(...i.routeList)}return this.storage.set("MsError",t.logs),t}clearLog(){this.storage.set("MsError",[])}encodeData(t){const e=JSON.stringify(t);return g(e)}async report(){const t=this.saveLog();this.firstEnter&&this.reportData(t)}errorReport(){const t=this.error.errorList,e=this.saveLog(),r=Date.now()-this.lastTime>this.reportTime,o=t.length>=this.errorMaxNum;r&&o&&this.reportData(e)}actionReport(){const t=this.action.clickList,e=this.action.routeList,r=this.saveLog(),o=Date.now()-this.lastTime>this.reportTime,n=t.length>=this.actionMaxNum||e.length>=this.actionMaxNum;o&&n&&this.reportData(r)}async reportData(t){if(this.pending)return!1;try{this.pending=!0,await this.msend.xhrReport(this.encodeData(t)),this.clearData(),this.clearLog(),this.lastTime=Date.now(),this.pending=!1}catch(t){throw t}}}}},9:t=>{t.exports={MSSendData:class{constructor({url:t,headers:e,method:r}){this.url=t,this.headers=e,this.method=r}xhrReport(t){return new Promise(((e,r)=>{const o=new XMLHttpRequest;o.open(this.method,this.url,!1),Object.keys(this.headers).forEach((t=>{o.setRequestHeader(t,this.headers[t])})),o.onreadystatechange=()=>{4==+o.readyState&&200==+o.status&&e(o.responseText)},o.onerror=t=>{r(t)},o.ontimeout=t=>{r(t)},o.send(this.transformData(t))}))}transformData(t){if("application/x-www-form-urlencoded"===this.headers["Content-Type"]){const e=new URLSearchParams;return e.append("data",t),e}return JSON.stringify(t)}sendBeacon(t){return new Promise(((e,r)=>{try{const r=new Blob([JSON.stringify(t)],{type:"application/x-www-form-urlencoded; charset=UTF-8"});navigator.sendBeacon(this.url,r),e(this.data)}catch(t){r(t)}}))}}}},75:t=>{t.exports={MSStorage:class{constructor(t){this.userId=t&&t.userId}get(t){if(!this.userId)return!1;const e=window.localStorage.getItem(`${t}-${this.userId}`);return!!e&&JSON.parse(e)}set(t,e){if(!this.userId)return!1;window.localStorage.setItem(`${t}-${this.userId}`,JSON.stringify(e))}remove(t){window.localStorage.removeItem(t)}}}},942:t=>{t.exports={MSTiming:class{constructor(t){const e=window.performance||window.msPerformance||window.webkitPerformance;this.performance=t||e,this.timing=t.timing}getTime(){var t=this.timing,e={};e.redirectCount=this.performance.navigation.redirectCount,e.redirectTime=t.redirectEnd-t.redirectStart,e.dnsTime=t.domainLookupEnd-t.domainLookupStart,e.connectTime=t.connectEnd-t.connectStart,e.requestTime=t.responseEnd-t.requestStart,e.firstByteTime=t.responseStart-t.domainLookupStart,e.domReadyTime=t.domComplete-t.responseEnd,e.whiteTime=t.responseStart-t.navigationStart,e.domLoadTime=t.domContentLoadedEventEnd-t.fetchStart,e.jsEventTime=t.domContentLoadedEventEnd-t.domContentLoadedEventStart,e.loadTime=t.loadEventEnd-t.fetchStart,e.paintTime=t.domComplete-t.fetchStart,e.ttiTime=t.domInteractive-t.fetchStart,e.fpTime=t.responseEnd-t.fetchStart;const r={...e};for(let t in r)r[t]=Math.floor(r[t]);return r}getFPTime(){let t={fpTime:-1,fcpTime:-1};if("function"==typeof this.performance.getEntriesByType){const e=this.performance.getEntriesByName("first-paint"),r=this.performance.getEntriesByName("first-contentful-paint");t={fpTime:e&&e[0]&&e[0].startTime,fcpTime:r&&e[0]&&r[0].startTime}}return t}async getFirstPaintTime(){const t=this.performance;let e={};try{if("function"==typeof t.getEntriesByType){const t=this.performance.getEntriesByName("first-paint"),r=this.performance.getEntriesByName("first-contentful-paint");e={fpTime:t&&t[0]&&t[0].duration,fcpTime:r&&r[0]&&r[0].duration}}else{let r=-1;if(chrome&&chrome.loadTimes){let t=window.chrome.loadTimes(),{firstPaintTime:e,startLoadTime:o}=t;r=1e3*(e-o)}else if(t.timing&&"number"==typeof t.timing.msFirstPaint){let{msFirstPaint:e,navigationStart:o}=t.timing;r=e-o}e={fpTime:r,fcpTime:-1}}const r=await ttiPolyfill.getFirstConsistentlyInteractive();return e.tti=r,e}catch(t){return console.warn(t),e}}}}},989:t=>{t.exports={MSUserAction:class{constructor(t,e){if(!t)throw new Error("请传入router实例");this.userInfo=e,this.router=t,this.routeList=[],this.clickList=[],this.content=""}listenRouter(t){this.router.beforeEach&&this.router.beforeEach(((e,r,o)=>{const n={to:{fullPath:e.fullPath,name:e.name,params:e.params,path:e.path,query:e.query},from:{fullPath:r.fullPath,name:r.name,params:r.params,path:r.path,query:r.query},createTime:Math.floor(Date.now()/1e3)};this.routeList.push(n),t&&"function"==typeof t&&t(e,r),o()}))}listenAction(t){this.listenClick(t)}handleAddListener(t,e){window.addEventListener?window.addEventListener(t,e,!0):window.attachEvent("on"+t,e)}getClassName(t){let e=t.id,r=t.className;for(;t&&!t.id&&!t.className;)e+=` ${t.id}`,r+=` ${t.className}`,t=t.parentElement;return`id选择器:${e} class选择器:${r}`}findItem(t,{left:e,top:r,url:o}){for(let o of t){const t=Math.abs(o.left-e)<6,n=Math.abs(o.top-r)<6;if(t&&n)return!0}return!1}listenClick(t){this.handleAddListener("click",(e=>{const r=e.target,o={innerText:r.innerText.slice(0,40),className:this.getClassName(r),left:e.clientX||e.x||e.offsetX||e.pageX,top:e.clientY||e.y||e.offsetY||e.pageY,createTime:Math.floor(Date.now()/1e3),url:encodeURIComponent(window.location.href)};this.findItem(this.clickList,o)||this.clickList.push(o),t&&"function"==typeof t&&t()}))}getInfo(){return{clickList:this.clickList,routeList:this.routeList}}clearInfo(){this.clickList=[],this.routeList=[]}}}},555:t=>{t.exports={guid:(t,e,r=!0)=>{const o="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}));return r?o.slice(t,e):o},tryError:t=>{if(t&&"function"==typeof t)try{t()}catch(t){console.error(t)}}}}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,r),i.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r(138)})()}));
//# sourceMappingURL=index.js.map